<div id="progress"></div>

<script>
var chart;
$(document).ready(function() {
	chart = new Highcharts.Chart({
		chart: {
			renderTo: 'progress',
			type: 'column'
		},
		title: {
			text: 'Progress'
		},
		legend: {
      enabled: true
    },
    xAxis: {
      categories: ['Backlog','WIP',	'In Review', 'In QA','Done']
    },
    yAxis: {
      title: {
        text: ''
      }
    },			
		series: [{
		  name: 'Points',
			data: [
		    ['To Do', <%= @to_do.sum('points') %>],		
			  ['In Progress', <%= @in_progress.sum('points') %>],
			  ['In Review', <%= @in_review.sum('points') %>],
				['In QA', <%= @in_qa.sum('points') %>],      
				['Done', <%= @done.sum('points') %>]
			]
		},
		{
		  name: 'Issues',
			data: [
		    ['To Do', <%= @to_do.count %>],		
			  ['In Progress', <%= @in_progress.count %>],
			  ['In Review', <%= @in_review.count %>],
				['In QA', <%= @in_qa.count %>],      
				['Done', <%= @done.count %>]
			]
		}]
		
	});
});
</script>